!function(e){e.jsenvy={}}(window),function(e){e.ScopeCreep=function(e,n){function t(e){"object"!=typeof e&&(e=i()),s=e.properties,a=e.methods}function o(){var e=r();return t(e.scope),e}function i(){var n=[],t=[],o=["length","__CommandLineAPI"];for(var i in e)-1===o.indexOf(i)&&("function"==typeof e[i]?t.push(i):n.push(i));return{properties:n,methods:t}}function r(){var e=i(),t=l(n.properties,l(s,e.properties)),o=l(n.methods,l(a,e.methods));return{properties:t,methods:o,scope:e}}function l(e,n){var t=[];return n.forEach(function(n){-1===e.indexOf(n)&&t.push(n)}),t}var s=[],a=[];return n=n||{properties:[],methods:[]},t(),{update:o,peek:r,get:i}}}(jsenvy),function(e,n){function t(){s("http://api.cdnjs.com/libraries",function(e){var n=JSON.parse(e.response).results;n.sort(function(e,n){return e.name.length-n.name.length}),a=n})}function o(e){for(var n=[],t=0;t<a.length;t++)a[t].name.indexOf(e)>-1&&n.push(a[t]);return n}function i(e,t){if(e){if(c.indexOf(e)>=0)return t(!1,"We already got this for you.");var o=n.createElement("script");o.src=e,o.asynch=!0,o.onreadystatechange=o.onload=function(){var n=o.readyState;t.done||n&&!/loaded|complete/.test(n)||(c.push(e),t.done=!0,clearTimeout(i),d.forEach(function(n){n(e)}),t(!0))},n.body.appendChild(o);var i=setTimeout(function(){t.done||o.remove(),t(!1,"This little guy didn't make it on time: "+e)},2e3);void 0!==window.ga&&window.ga("send","event","load",e)}}function r(){return c}function l(e){d.push(e)}function s(e,n){function t(){o.readyState<4||200===o.status&&4===o.readyState&&n(o)}var o;if("undefined"!=typeof XMLHttpRequest)o=new XMLHttpRequest;else for(var i=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],r=0,l=i.length;l>r;r++)try{o=new ActiveXObject(i[r]);break}catch(s){}return o.onreadystatechange=t,o.open("GET",e,!0),o.send(""),o}e.libraries={preload:t,search:o,load:i,loaded:r,callback:l};var a=[],c=[],d=[]}(jsenvy,document),function(e,n){function t(e){e.nextElementSibling.classList.contains("hidden")?i(e.nextElementSibling):o(e.nextElementSibling)}function o(e){e.classList.contains("hidden")||e.classList.add("hidden")}function i(e){e.classList.remove("hidden")}e.hideables={hide:o,show:i};for(var r=n.getElementsByClassName("hideable"),l=0;l<r.length;l++)r[l].onclick=function(){t(this)}}(jsenvy,document),function(e,n,t){function o(e){p.push(e)}function i(){p.forEach(function(e){e()})}function r(e){var n,o=e||d.value,r=!1;if(""!==o){try{e=t.eval(o),n=u.log.cloneNode()}catch(r){n=u.error.cloneNode(),r=!0}if(n.title=o,r)n.innerHTML=r.message;else switch(typeof e){case"object":n.innerHTML=JSON.stringify(e);break;default:n.innerHTML=e}a.appendChild(n),a.scrollTop=a.scrollHeight,f=a.childElementCount,d.value="",i()}}function l(e){f+e>-1&&f+e<=a.childElementCount&&(f+=e),f===a.childElementCount?d.value="":a.childElementCount&&(d.value=a.children[f].title)}function s(){for(var e=a.children,n=[],t=0,o=e.length;o>t;t++)n.push(e[t].title);return n}e.console={log:r,history:s,callback:o};var a=n.getElementById("console-log"),c=n.getElementById("console-form"),d=n.getElementById("console-input"),u={log:n.getElementById("log-template"),error:n.getElementById("error-template")},f=0,p=[];c.onsubmit=function(e){e.preventDefault(),r()},d.onkeyup=function(e){switch(e.keyCode){case 38:l(-1);break;case 40:l(1)}},function(){for(var e in u){var n=u[e].cloneNode();n.id="",u[e].remove(),u[e]=n}}()}(jsenvy,document,window),function(e){function n(e){var n=new RegExp("[\\#]"+e+"=([^#]*)"),t=n.exec(location.hash);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function t(e,n){var t=new RegExp(n+"=([^#]*)");return t.exec(location.hash)?void(location.hash=location.hash.replace(t,n+"="+encodeURIComponent(e))):o(e,n)}function o(e,n){i(n),location.hash=r(e,n)}function i(e){var n=new RegExp("[#]"+e+"=([^#]*)");location.hash=location.hash.replace(n,"")}function r(e,n){return location.hash+"#"+n+"="+encodeURIComponent(e)}e.persist={get:n,put:t,post:o,remove:i,"if":r}}(jsenvy),function(e){function n(n){function t(n,o){"object"==typeof n&&n.length?e.libraries.load(n.shift(),function(){t(n,o)},!0):o()}var o=e.persist.get("libs").split(",");return o&&o.length&&o[0]?void t(o,n):void n()}function t(n){function t(n,o){"object"==typeof n&&n.length?(e.console.log(n.shift()),window.setTimeout(function(){t(n,o)},500)):"function"==typeof o&&o()}var o=e.persist.get("logs").split(",,");return o&&o.length&&o[0]?void t(o,n):void("function"==typeof n&&n())}n(t)}(jsenvy),function(e,n,t){function o(){var n=e.libraries.loaded().join(",");L?e.persist.put(n,"libs"):E.href=e.persist.if(n,"libs")}function i(){var n=e.console.history().join(",,");B?e.persist.put(n,"logs"):E.href=e.persist.if(n,"logs")}function r(n){I.update(),e.libraries.load(n,function(n,i){n?(t.getElementById("libraryName").value="",t.getElementById("librarySuggestions").innerHTML="",e.hideables.hide(h),e.hideables.hide(p),o(),s()):alert(i)})}function l(e){var n=t.createElement("li");n.innerHTML=e,g.appendChild(n)}function s(){for(var e=I.update(),n=!1,o=0;o<e.properties.length;o++){n=!0;var i=t.createElement("li");i.innerHTML=e.properties[o],v.appendChild(i)}for(var o=0;o<e.methods.length;o++){n=!0;var i=t.createElement("li");i.innerHTML=e.methods[o],y.appendChild(i)}n&&(m.style.display="block")}function a(e){e.preventDefault(),e.stopPropagation(),k.innerHTML='<iframe src="'+location.origin+"/console.html"+location.hash+'"></iframe>',w.style.display="block"}function c(){w.style.display="none"}var d=t.getElementById("libraryName"),u=t.getElementById("libraryForm"),f=t.getElementById("librarySuggestions"),p=t.getElementById("suggestions-error"),h=t.getElementById("suggestions-help"),g=t.getElementById("loadedLibraries"),m=t.getElementById("windowChanges"),v=t.getElementById("newProperties"),y=t.getElementById("newMethods"),b=t.getElementById("link-logs"),E=t.getElementById("link-libraries"),w=t.getElementById("embed-code-modal"),k=t.getElementById("embed-code"),I=e.ScopeCreep(n,{properties:["gaplugins","GoogleAnalyticsObject","gaGlobal"],methods:["ga"]}),B=!0,L=!0;e.libraries.preload(),e.libraries.callback(l),u.onsubmit=function(e){e.preventDefault(),f.firstChild.click()},d.onkeyup=function(){if(f.innerHTML="",!(this.value.length<1)){var n=e.libraries.search(this.value);if(!n.length)return e.hideables.show(p),void e.hideables.hide(h);e.hideables.show(h),e.hideables.hide(p);for(var o=0;o<n.length;o++){var i=t.createElement("li");i.onclick=function(){r(this.getAttribute("data-src"))},i.innerHTML=n[o].name,i.setAttribute("data-src",n[o].latest),f.appendChild(i)}}},t.getElementById("loadFromUrl").onclick=function(){r(d.value)},e.console.callback(i),E.onclick=function(n){n.preventDefault(),n.stopPropagation(),L=!L;var t=e.libraries.loaded().join(",");L?(E.href=e.persist.if("","libs"),E.classList.remove("boring-link"),e.persist.post(t,"libs")):(E.href=e.persist.if(t,"libs"),E.classList.add("boring-link"),e.persist.remove("libs"))},b.onclick=function(n){n.preventDefault(),n.stopPropagation(),B=!B;var t=e.console.history().join(",,");B?(b.href=e.persist.if("","logs"),b.classList.remove("boring-link"),e.persist.post(t,"logs")):(b.href=e.persist.if(t,"logs"),b.classList.add("boring-link"),e.persist.remove("logs"))},t.getElementById("close-modal").onclick=c,t.getElementById("embed-console").onclick=a}(jsenvy,window,document),function(e,n,t,o,i,r,l){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,r=n.createElement(t),l=n.getElementsByTagName(t)[0],r.async=1,r.src=o,l.parentNode.insertBefore(r,l)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-50959303-1","jsenvy.com"),ga("send","pageview");