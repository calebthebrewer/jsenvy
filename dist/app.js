!function(e){e.jsenvy={}}(window),function(e){e.ScopeCreep=function(e,n){function t(e){"object"!=typeof e&&(e=i()),r=e.properties,a=e.methods}function o(){var e=l();return t(e.scope),e}function i(){for(var n=[],t=[],o=["length","__CommandLineAPI"],i=Object.getOwnPropertyNames(e),l=0;l<i.length;l++){var s=i[l];o.indexOf(s)>=0||("function"==typeof window[s]?t.push(s):n.push(s))}return{properties:n,methods:t}}function l(){var e=i(),t=s(n.properties,s(r,e.properties)),o=s(n.methods,s(a,e.methods));return{properties:t,methods:o,scope:e}}function s(e,n){var t=[];return n.forEach(function(n){-1===e.indexOf(n)&&t.push(n)}),t}var r=[],a=[];return n=n||{properties:[],methods:[]},t(),{update:o,peek:l,get:i}}}(jsenvy),function(e,n){function t(){r("http://api.cdnjs.com/libraries",function(e){var n=JSON.parse(e.response).results;n.sort(function(e,n){return e.name.length-n.name.length}),a=n})}function o(e){for(var n=[],t=0;t<a.length;t++)a[t].name.indexOf(e)>-1&&n.push(a[t]);return n}function i(e,t){if(e){if(c.indexOf(e)>=0)return t(!1,"We already got this for you.");var o=n.createElement("script");o.src=e,o.asynch=!0,o.onreadystatechange=o.onload=function(){var n=o.readyState;t.done||n&&!/loaded|complete/.test(n)||(c.push(e),t.done=!0,clearTimeout(i),d.forEach(function(n){n(e)}),t(!0))},n.body.appendChild(o);var i=setTimeout(function(){t.done||o.remove(),t(!1,"This little guy didn't make it on time: "+e)},2e3);void 0!==window.ga&&window.ga("send","event","load",e)}}function l(){return c}function s(e){d.push(e)}function r(e,n){function t(){o.readyState<4||200===o.status&&4===o.readyState&&n(o)}var o;if("undefined"!=typeof XMLHttpRequest)o=new XMLHttpRequest;else for(var i=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],l=0,s=i.length;s>l;l++)try{o=new ActiveXObject(i[l]);break}catch(r){}return o.onreadystatechange=t,o.open("GET",e,!0),o.send(""),o}e.libraries={preload:t,search:o,load:i,loaded:l,callback:s};var a=[],c=[],d=[]}(jsenvy,document),function(e,n){function t(e){e.nextElementSibling.classList.contains("hidden")?i(e.nextElementSibling):o(e.nextElementSibling)}function o(e){e.classList.contains("hidden")||e.classList.add("hidden")}function i(e){e.classList.remove("hidden")}e.hideables={hide:o,show:i};for(var l=n.getElementsByClassName("hideable"),s=0;s<l.length;s++)l[s].onclick=function(){t(this)}}(jsenvy,document),function(jsenvy,document,window){function callback(e){callbacks.push(e)}function runCallbacks(){callbacks.forEach(function(e){e()})}function log(value){var expression=value||consoleInput.value;if(""!==expression){consoleInput.value="";try{var value=eval(expression),entry=templates.log.cloneNode();entry.title=expression,entry.innerHTML=value,consoleLog.appendChild(entry)}catch(error){var entry=templates.error.cloneNode();entry.title=expression,entry.innerHTML=error.message,consoleLog.appendChild(entry)}consoleLog.scrollTop=consoleLog.scrollHeight,consoleHistoryIndex=consoleLog.childElementCount,runCallbacks()}}function consoleHistory(e){consoleHistoryIndex+e>-1&&consoleHistoryIndex+e<=consoleLog.childElementCount&&(consoleHistoryIndex+=e),consoleHistoryIndex===consoleLog.childElementCount?consoleInput.value="":consoleLog.childElementCount&&(consoleInput.value=consoleLog.children[consoleHistoryIndex].title)}function history(){for(var e=consoleLog.children,n=[],t=0,o=e.length;o>t;t++)n.push(e[t].title);return n}jsenvy.console={log:log,history:history,callback:callback};var _console=window.console,consoleLog=document.getElementById("console-log"),consoleForm=document.getElementById("console-form"),consoleInput=document.getElementById("console-input"),templates={log:document.getElementById("log-template"),error:document.getElementById("error-template")},consoleHistoryIndex=0,callbacks=[];consoleForm.onsubmit=function(e){e.preventDefault(),log()},consoleInput.onkeyup=function(e){switch(e.keyCode){case 38:consoleHistory(-1);break;case 40:consoleHistory(1)}},function(){for(var e in templates){var n=templates[e].cloneNode();n.id="",templates[e].remove(),templates[e]=n}}()}(jsenvy,document,window),function(e){function n(e){var n=new RegExp("[\\#]"+e+"=([^#]*)"),t=n.exec(location.hash);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function t(e,n){var t=new RegExp(n+"=([^#]*)");return t.exec(location.hash)?void(location.hash=location.hash.replace(t,n+"="+encodeURIComponent(e))):o(e,n)}function o(e,n){i(n),location.hash=l(e,n)}function i(e){var n=new RegExp("[#]"+e+"=([^#]*)");location.hash=location.hash.replace(n,"")}function l(e,n){return location.hash+"#"+n+"="+encodeURIComponent(e)}e.persist={get:n,put:t,post:o,remove:i,"if":l}}(jsenvy),function(e){function n(n){function t(n,o){"object"==typeof n&&n.length?e.libraries.load(n.shift(),function(){t(n,o)},!0):o()}var o=e.persist.get("libs").split(",");return o&&o.length&&o[0]?void t(o,n):void n()}function t(n){function t(n,o){"object"==typeof n&&n.length?(e.console.log(n.shift()),window.setTimeout(function(){t(n,o)},500)):"function"==typeof o&&o()}var o=e.persist.get("logs").split(",,");return o&&o.length&&o[0]?void t(o,n):void("function"==typeof n&&n())}n(t)}(jsenvy),function(e,n,t){function o(){var n=e.libraries.loaded().join(",");H?e.persist.put(n,"libs"):E.href=e.persist.if(n,"libs")}function i(){var n=e.console.history().join(",,");k?e.persist.put(n,"logs"):E.href=e.persist.if(n,"logs")}function l(n){L.update(),e.libraries.load(n,function(n,i){n?(t.getElementById("libraryName").value="",t.getElementById("librarySuggestions").innerHTML="",e.hideables.hide(h),e.hideables.hide(f),o(),r()):alert(i)})}function s(e){var n=t.createElement("li");n.innerHTML=e,g.appendChild(n)}function r(){for(var e=L.update(),n=!1,o=0;o<e.properties.length;o++){n=!0;var i=t.createElement("li");i.innerHTML=e.properties[o],y.appendChild(i)}for(var o=0;o<e.methods.length;o++){n=!0;var i=t.createElement("li");i.innerHTML=e.methods[o],v.appendChild(i)}n&&(m.style.display="block")}function a(e){e.preventDefault(),e.stopPropagation(),w.innerHTML='<iframe src="'+location.origin+"/console.html"+location.hash+'"></iframe>',I.style.display="block"}function c(){I.style.display="none"}var d=t.getElementById("libraryName"),u=t.getElementById("libraryForm"),p=t.getElementById("librarySuggestions"),f=t.getElementById("suggestions-error"),h=t.getElementById("suggestions-help"),g=t.getElementById("loadedLibraries"),m=t.getElementById("windowChanges"),y=t.getElementById("newProperties"),v=t.getElementById("newMethods"),b=t.getElementById("link-logs"),E=t.getElementById("link-libraries"),I=t.getElementById("embed-code-modal"),w=t.getElementById("embed-code"),L=e.ScopeCreep(n,{properties:["gaplugins","GoogleAnalyticsObject","gaGlobal"],methods:["ga"]}),k=!0,H=!0;e.libraries.preload(),e.libraries.callback(s),u.onsubmit=function(e){e.preventDefault(),p.firstChild.click()},d.onkeyup=function(){if(p.innerHTML="",!(this.value.length<1)){var n=e.libraries.search(this.value);if(!n.length)return e.hideables.show(f),void e.hideables.hide(h);e.hideables.show(h),e.hideables.hide(f);for(var o=0;o<n.length;o++){var i=t.createElement("li");i.onclick=function(){l(this.getAttribute("data-src"))},i.innerHTML=n[o].name,i.setAttribute("data-src",n[o].latest),p.appendChild(i)}}},t.getElementById("loadFromUrl").onclick=function(){l(d.value)},e.console.callback(i),E.onclick=function(n){n.preventDefault(),n.stopPropagation(),H=!H;var t=e.libraries.loaded().join(",");H?(E.href=e.persist.if("","libs"),E.classList.remove("boring-link"),e.persist.post(t,"libs")):(E.href=e.persist.if(t,"libs"),E.classList.add("boring-link"),e.persist.remove("libs"))},b.onclick=function(n){n.preventDefault(),n.stopPropagation(),k=!k;var t=e.console.history().join(",,");k?(b.href=e.persist.if("","logs"),b.classList.remove("boring-link"),e.persist.post(t,"logs")):(b.href=e.persist.if(t,"logs"),b.classList.add("boring-link"),e.persist.remove("logs"))},t.getElementById("close-modal").onclick=c,t.getElementById("embed-console").onclick=a}(jsenvy,window,document),function(e,n,t,o,i,l,s){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,l=n.createElement(t),s=n.getElementsByTagName(t)[0],l.async=1,l.src=o,s.parentNode.insertBefore(l,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-50959303-1","jsenvy.com"),ga("send","pageview");