!function(){function e(){var e=h.update(),t=!1;p.style.display="none",f.innerHTML="",g.innerHTML="";for(var n=0;n<e.properties.length;n++){t=!0;var i=document.createElement("li");i.innerHTML=e.properties[n],f.appendChild(i)}for(var n=0;n<e.methods.length;n++){t=!0;var i=document.createElement("li");i.innerHTML=e.methods[n],g.appendChild(i)}t&&(p.style.display="block")}function t(e,t){function n(){i.readyState<4||200===i.status&&4===i.readyState&&t(i)}var i;if("undefined"!=typeof XMLHttpRequest)i=new XMLHttpRequest;else for(var r=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],o=0,a=r.length;a>o;o++)try{i=new ActiveXObject(r[o]);break}catch(d){}return i.onreadystatechange=n,i.open("GET",e,!0),i.send(""),i}function n(e,t){function n(n,i){if(n){document.getElementById("libraryName").value="",document.getElementById("librarySuggestions").innerHTML="",o(m),o(u);var r=document.createElement("li");r.innerHTML=e,document.getElementById("loadedLibraries").appendChild(r),"function"==typeof t&&t()}else alert(i)}if(e){if(l.indexOf(e)>=0)return n(!1,"We already got this for you.");var i=document.createElement("script"),r=setTimeout(function(){n.done||i.remove(),n(!1,"This little guy didn't make it on time: "+e)},2e3);document.body.appendChild(i),i.src=e,i.asynch=!0,i.onreadystatechange=i.onload=function(){var t=i.readyState;n.done||t&&!/loaded|complete/.test(t)||(l.push(e),n.done=!0,clearTimeout(r),n(!0))}}}function i(e){for(var t=[],n=0;n<d.length;n++)d[n].name.indexOf(e)>-1&&t.push(d[n]);return t}function r(e){e.nextElementSibling.hasClass("hidden")?a(e):o(e)}function o(e){e.classList.contains("hidden")||e.classList.add("hidden")}function a(e){e.classList.remove("hidden")}var d,l=[],s=document.getElementById("libraryName"),c=document.getElementById("librarySuggestions"),u=document.getElementById("suggestions-error"),m=document.getElementById("suggestions-help"),p=document.getElementById("windowChanges"),f=document.getElementById("newProperties"),g=document.getElementById("newMethods"),h=ScopeCreep(window);t("http://api.cdnjs.com/libraries",function(e){var t=JSON.parse(e.response).results;t.sort(function(e,t){return e.name.length-t.name.length}),d=t});for(var y=document.getElementsByClassName("hideable"),v=0;v<y.length;v++)y[v].onclick=function(){r(this)};document.getElementById("libraryForm").onsubmit=function(e){e.preventDefault(),c.firstChild.click()},s.onkeyup=function(){if(c.innerHTML="",!(this.value.length<1)){var t=i(this.value);if(!t.length)return a(u),void o(m);a(m),o(u);for(var r=0;r<t.length;r++){var d=document.createElement("li");d.onclick=function(){h.update(),n(this.getAttribute("data-src"),e)},d.innerHTML=t[r].name,d.setAttribute("data-src",t[r].latest),document.getElementById("librarySuggestions").appendChild(d)}}},document.getElementById("loadFromUrl").onclick=function(){h.update(),n(s.value,e)}}();